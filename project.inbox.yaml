inbox:
  - _ulid: 01KG4KV8GTP8PZ4TKFWWNNWW9J
    text: Spec review workflow/skill that runs verification + holistic review after spec changes. Would
      automate the repeated 'run two subagents to check plan vs implementation and find gaps'
      pattern.
    created_at: 2026-01-29T10:12:40.090Z
    tags:
      - reflection
      - workflow
    added_by: "@claude"
  - _ulid: 01KG4KVBQ3QR4TD0H3FR39HAT3
    text: "Allow kspec item trait add to accept multiple traits: kspec item trait add @spec @trait1
      @trait2 @trait3 instead of requiring separate commands for each trait."
    created_at: 2026-01-29T10:12:43.363Z
    tags:
      - reflection
      - kspec-cli
    added_by: "@claude"
  - _ulid: 01KG4KVDRYATHAAE28D4DBTNXK
    text: Display relates_to and depends_on fields in kspec item get output. Currently these fields are
      only visible by reading the YAML directly.
    created_at: 2026-01-29T10:12:45.470Z
    tags:
      - reflection
      - kspec-cli
    added_by: "@claude"
  - _ulid: 01KG5Z1EH2MCEN3B1ZNSYZV1DZ
    text: "Discord adapter: add health check support using client.ws.ping for latency monitoring"
    created_at: 2026-01-29T22:47:31.618Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG5Z1KS7G4V7V09QT1VHTM9Y
    text: "Discord adapter: make bot message filtering configurable (currently filters all bots, not
      just self)"
    created_at: 2026-01-29T22:47:36.999Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG5Z1PKTSJEJ9RDMTWEHXVM7
    text: "Discord adapter: expand DiscordSendOptions for ephemeral messages, thread options, slash
      command support"
    created_at: 2026-01-29T22:47:39.899Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG64MZRWM8MDBAC0WENA5YN9
    text: "Bot: Consider using TypedEventEmitter pattern for type-safe event names and payloads instead
      of base EventEmitter"
    created_at: 2026-01-30T00:25:34.748Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG64NC1W6K081646FVDWVAGH
    text: "Bot: Forward ChannelLifecycle events (health, reconnection) for completeness - currently only
      AgentLifecycle events are forwarded"
    created_at: 2026-01-30T00:25:47.325Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6503G0CXW2FJHRQ9F6AMYY
    text: CLI tool to inspect types from dependencies - e.g. 'pnpm types @agentclientprotocol/sdk
      NewSessionRequest' to show type definition from .d.ts files. Could support --expand to follow
      type references. Helps with SDK integration without digging through node_modules/.pnpm/
    created_at: 2026-01-30T00:31:39.008Z
    tags:
      - reflection
      - dx
    added_by: "@claude"
  - _ulid: 01KG65AGK23RM64JPCPWW7ZAEF
    text: "Ensure task workflow is followed when implementing plans in new context - problem: plans
      focus on what to build, not the kspec workflow (task start/notes/submit/complete). Agent jumps
      to implementation without starting task. Potential fixes: (1) plan template includes 'kspec
      task start @slug' as first step, (2) CLAUDE.md implementation checklist, (3) session start
      detects pending tasks with ready plans, (4) hook on plan approval."
    created_at: 2026-01-30T00:37:20.098Z
    tags:
      - reflection
      - workflow
    added_by: "@claude"
  - _ulid: 01KG6YGV7WNKPBHRRYFDGJ7E1A
    text: Session context not persisting - investigate why session/conversation files aren't being
      written to .kbot, then implement replay of recent turns on new ACP session to restore context.
      Storage infrastructure exists (turns.jsonl, events.jsonl, ConversationStore) but appears
      unused. Quick win once storage is working.
    created_at: 2026-01-30T07:57:42.012Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YGZ6GQTQBHEV4Z1MSN53V
    text: Rich tool call widgets for Discord - extend adapter with embed/component support. Create
      ToolWidgetBuilder for different tool kinds (bash, read, write, etc), ToolCallTracker for
      message editing, MessageUpdateBatcher for rate limit handling. ACP already provides
      tool_call/tool_call_update events.
    created_at: 2026-01-30T07:57:46.064Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YH21GSSXP27SXF4D26279
    text: "System prompt and personality configuration - .kbot is the bot's brain using kspec as
      library. Inject dynamic context: observations (friction/success patterns), session focus,
      active work, user interests. Static base capabilities + dynamic per-session injection.
      Personality evolves from observed patterns over time."
    created_at: 2026-01-30T07:57:48.976Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YH3TC9G5PZWADXPE1ZBX0
    text: "Discord threads for subagent execution - Claude Code ACP already supports Task
      tool/subagents. Wire subagent spawning to create Discord threads: thread starter = task
      prompt, replies = tool calls/thinking/results, auto-archive on completion. Flatten nested
      subagents (Discord limitation). Enable when ready, not urgent."
    created_at: 2026-01-30T07:57:50.796Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YHBSF6ZJSS9MD6M5ZDHPD
    text: Bash command widget - show command, exit code, duration, output preview (first 10 lines).
      Expand button for full output. Part of rich tool widgets work.
    created_at: 2026-01-30T07:57:58.959Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YHEF3Y2BE0R3RF2GQ3CJN
    text: File diff widget - syntax highlighting via Discord code blocks, diff display with +/-
      prefixes, line range info, expand button for full content. Part of rich tool widgets work.
    created_at: 2026-01-30T07:58:01.699Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YHG61RF5V3VQQTJT4GFQB
    text: Interactive expand/collapse buttons for tool outputs - Discord components for showing full
      output on demand. Store expanded content in memory, use ephemeral follow-ups for large
      content. Part of rich tool widgets work.
    created_at: 2026-01-30T07:58:03.457Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG6YHJBZGFNBHDVGXRG6CXF9
    text: Per-user personality evolution - track user-specific patterns in .kbot, evolve communication
      style and scope based on individual observation history. Beyond project-specific .kspec
      context.
    created_at: 2026-01-30T07:58:05.695Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG756XS1SYF6NM7D060N9TB1
    text: Kbot reimplements kspec shadow branch instead of using kspec as library.
      packages/memory/src/shadow/ duplicates functionality from kspec's parser/shadow.ts. Should add
      kspec as dependency and use its shadow branch utilities (detectShadow, initializeShadow,
      commitIfShadow, etc.) instead of maintaining parallel implementation. May need to parameterize
      kspec's shadow for different branch names (.kbot vs .kspec) or extend it.
    created_at: 2026-01-30T09:54:36.962Z
    tags:
      - architecture
      - tech-debt
    added_by: "@claude"
  - _ulid: 01KG7579T4KVDRP3G84GBG05FV
    text: >-
      Bot Personality System Design (from triage discussion):


      **System prompt injection (always included):**

      - Core identity (name, role, boundaries)

      - Recent important events/info


      **Storage (via kspec primitives in .kbot/):**

      - identity section in kbot.meta.yaml

      - observations for learned patterns

      - session context for ephemeral state


      **Communication preferences to track:**

      - Verbosity (concise/detailed)

      - Formality (casual/professional)  

      - Structure (bullets/prose)

      - Expertise level assumption


      **Evolution:**

      - Explicit: User tells bot directly

      - Reflection: Automatic + collaborative with user

      - Implicit: Derived from reflection


      **Blocked on:** kspec library integration (01KG756X) - should use kspec observations/meta
      rather than custom implementation


      **Research captured:** See personalization research from triage session - memory taxonomies,
      what to track, anti-patterns
    created_at: 2026-01-30T09:54:49.284Z
    tags:
      - personality
      - design
    added_by: "@claude"
  - _ulid: 01KG8MKXN7VZAYJF649EN6W6NM
    text: "Fix 5 lint errors on main blocking pre-commit hooks: 3 unused imports in bot.ts, unsafe any
      in identity.ts, unused chunkIndex in splitter.ts"
    created_at: 2026-01-30T23:43:05.895Z
    tags:
      - lint
      - blocker
    added_by: "@claude"
  - _ulid: 01KG8RPCE1VW5TNJ6APMCRPPYR
    text: "Document bash heredoc best practices in CLAUDE.md/AGENTS.md: prefer Python scripts or
      file-based approaches over complex heredoc escaping when dealing with special characters,
      nested quotes, or complex string generation"
    created_at: 2026-01-31T00:54:20.865Z
    tags:
      - reflection
      - documentation
    added_by: "@claude"
  - _ulid: 01KG8RRDA1S5T5JADE7W45GG4R
    text: Configure lefthook to lint only changed files on pre-commit (use {staged_files}), but ensure
      full lint runs regularly (e.g., pre-push hook or CI). This prevents unrelated lint errors from
      blocking commits while maintaining overall code quality.
    created_at: 2026-01-31T00:55:27.298Z
    tags:
      - reflection
      - tooling
    added_by: "@claude"
  - _ulid: 01KG8SR3VJ3C567QFYP4Q854E6
    text: Pre-commit hook should fail on Prettier violations instead of auto-fixing. Currently lefthook
      runs prettier --write which reformats after commit, allowing violations to be committed.
      Change to run prettier --check as a gate, preventing commits with formatting issues.
    created_at: 2026-01-31T01:12:46.194Z
    tags:
      - reflection
      - tooling
    added_by: "@claude"
  - _ulid: 01KG8SVYPXS033XX2TCVMJPQ21
    text: "Detect uncommitted changes on branches with merged PRs. Stop hook helps when ending session,
      but doesn't catch: (1) PR merged from GitHub UI while uncommitted changes exist locally, (2)
      manual branch switching without ending session. Could add git hook or branch-switching check
      to warn about stray uncommitted work."
    created_at: 2026-01-31T01:14:51.997Z
    tags:
      - reflection
      - tooling
    added_by: "@claude"
  - _ulid: 01KG8YX2V34TMDEA639WCB1AK2
    text: Add Bot-level integration test for restart recovery (AC-3/AC-9) - currently tested in
      messaging package but not end-to-end through Bot
    created_at: 2026-01-31T02:42:51.875Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KG8YX59CTEWXX6PTPQA26AR7
    text: Have AgentLifecycle explicitly implement StderrProvider interface to avoid type cast in
      Bot.handleMessage usage tracking
    created_at: 2026-01-31T02:42:54.380Z
    tags: []
    added_by: "@claude"
